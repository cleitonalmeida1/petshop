<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/WEB-INF/template/template-principal.xhtml">

	<ui:define name="conteudo">
		<p:panel header="Cadastro de Animal" footer="Petshop"
			toggleable="true">
			<h:form>
				<h:panelGrid columns="3" cellpadding="5">
					<h:panelGrid columns="2" cellpadding="2" style="">
						<h:outputLabel value="Nome" />
						<p:inputText value="#{cadastroAnimalMB.animal.nome}" />

						<h:outputLabel value="RaÃ§a" />
						<p:inputText value="#{cadastroAnimalMB.animal.raca}" />


						<h:outputLabel value="Cor" />
						<p:inputText value="#{cadastroAnimalMB.animal.cor}" />

						<p:commandButton value="Cancelar"
							action="#{cadastroAnimalMB.cancelar()}" immediate="true"
							icon="ui-icon-cancel"></p:commandButton>
						<p:commandButton value="Salvar"
							action="#{cadastroAnimalMB.salvar(UploadMB.arquivo)}"
							ajax="false" icon="ui-icon-check"></p:commandButton>

						<h:outputLabel value="" />
						<h:outputLabel value="" />
					</h:panelGrid>

					<h:panelGrid columns="2" cellpadding="5">
						<h:outputLabel for="data" value="Nasc." />
						<p:calendar id="data"
							value="#{cadastroAnimalMB.animal.datanascimento}" showOn="button" />

						<h:outputLabel value="Peso" />
						<p:inputText value="#{cadastroAnimalMB.animal.peso}" />
						<h:outputLabel for="sexo" value="Sexo" />
						<p:selectOneRadio id="sexo"
							value="#{cadastroAnimalMB.animal.sexo}">
							<f:selectItem itemLabel="Feminino" itemValue="F" />
							<f:selectItem itemLabel="Masculino" itemValue="M" />
						</p:selectOneRadio>

						<h:outputLabel value="" />
						<h:outputLabel value="" />
					</h:panelGrid>

						<h:form>
							<p:panel header="Imagem" footer="Foto do pet" toggleable="true">
								<h:panelGrid columns="1" cellpadding="5">
									<p:fileUpload fileUploadListener="#{uploadMB.handleFileUpload}"
										mode="advanced" dragDropSupport="true" sizeLimit="100000"
										fileLimit="1" allowTypes="/(\.|\/)(gif|jpe?g|png)$/">
									</p:fileUpload>

									<p:graphicImage value="#{imagemMB.image}" id="foto"
										cache="false">
										<f:param name="fotoId"
											value="#{(cadastroAnimalMB.animal.foto!=null?cadastroAnimalMB.animal.foto.id:null)}" />
									</p:graphicImage>
								</h:panelGrid>
							</p:panel>
						</h:form>


				</h:panelGrid>
			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>